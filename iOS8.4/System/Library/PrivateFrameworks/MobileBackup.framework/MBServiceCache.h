/*
* This header is generated by classdump-dyld 0.7
* on Wednesday, July 22, 2015 at 5:23:40 PM Japan Standard Time
* Operating System: Version 8.4 (Build 12H143)
* Image Source: /System/Library/PrivateFrameworks/MobileBackup.framework/backupd
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2014 by Elias Limneos.
*/


#import <backupd/backupd-Structs.h>
@class NSString, MBServiceConfiguration, MBDomainManager, NSMutableSet, NSMutableDictionary;

@interface MBServiceCache : NSObject {

	NSString* _path;
	sqlite3Ref _db;
	long long _openCount;
	BOOL _corrupt;
	MBServiceConfiguration* _configuration;
	BOOL _configurationUpToDate;
	MBDomainManager* _domainManager;
	NSMutableSet* _disabledDomainNames;
	NSMutableDictionary* _stmtsBySQL;
	NSMutableDictionary* _countAndTimeBySQL;
	NSMutableSet* _upToDateBackupUDIDs;

}

@property (nonatomic,retain) MBDomainManager * domainManager;              //@synthesize domainManager=_domainManager - In the implementation block
+(id)systemPath;
+(id)cacheWithPath:(id)arg1 ;
-(void)setDisabledDomainNames:(id)arg1 restrictedDomainNames:(id)arg2 ;
-(id)backupForUDID:(id)arg1 lastModified:(long long*)arg2 ;
-(id)restoreFailuresForDataClass:(id)arg1 assetType:(id)arg2 range:(NSRange)arg3 ;
-(void)removeAccount;
-(void)removeBackupforUDID:(id)arg1 ;
-(void)removeSnapshotForID:(unsigned long long)arg1 backupUDID:(id)arg2 lastModified:(long long)arg3 ;
-(void)setLastModified:(long long)arg1 forBackupUDID:(id)arg2 ;
-(id)fileIDEnumeratorForSnapshotID:(unsigned long long)arg1 backupUDID:(id)arg2 ;
-(id)fileForID:(id)arg1 snapshotID:(unsigned long long)arg2 backupUDID:(id)arg3 ;
-(id)filesToRestoreForDomainName:(id)arg1 relativePath:(id)arg2 pendingOnly:(BOOL)arg3 backupUDID:(id)arg4 range:(NSRange)arg5 ;
-(BOOL)restoreFileExistsWithDomainName:(id)arg1 relativePath:(id)arg2 backupUDID:(id)arg3 ;
-(BOOL)restoreFilesExistForDomainName:(id)arg1 backupUDID:(id)arg2 size:(unsigned long long*)arg3 ;
-(void)prioritizeRestoreFileWithFileID:(id)arg1 ;
-(unsigned long long)nextBackupSizeWithUDID:(id)arg1 ;
-(id)domainInfoForName:(id)arg1 backupUDID:(id)arg2 ;
-(id)domainNamesForBackupUDID:(id)arg1 ;
-(void)removeDomainName:(id)arg1 backupUDID:(id)arg2 lastModified:(long long)arg3 ;
-(void)updateFileChangesAfterRemovingDomainName:(id)arg1 ;
-(void)addDisabledDomainNames:(id)arg1 restricted:(BOOL)arg2 ;
-(void)fileChangeCount:(unsigned long long*)arg1 size:(unsigned long long*)arg2 ;
-(void)removeDisabledDomainNames:(id)arg1 ;
-(void)mergeSnapshotForID:(unsigned long long)arg1 backupUDID:(id)arg2 lastModified:(long long)arg3 ;
-(BOOL)areAllFilesCommittedForSnapshotID:(unsigned long long)arg1 backupUDID:(id)arg2 ;
-(id)snapshotForSnapshotID:(unsigned long long)arg1 backupUDID:(id)arg2 ;
-(BOOL)refreshForBackupUDID:(id)arg1 service:(id)arg2 deleted:(BOOL*)arg3 error:(id*)arg4 ;
-(void)verifyBackupUDID:(id)arg1 service:(id)arg2 ;
-(void)forceRefreshForBackupUDID:(id)arg1 ;
-(void)keybagUUID:(id*)arg1 keybagID:(unsigned*)arg2 forBackupUDID:(id)arg3 ;
-(id)keyBagInfoForBackupUDID:(id)arg1 ;
-(void)removeAllFileChanges;
-(void)removeAllFilesMissingEncryptionKey;
-(BOOL)areFilesMissingEncryptionKey;
-(id)fileForID:(id)arg1 backupUDID:(id)arg2 ;
-(id)encryptionKeyForFileWithInodeNumber:(unsigned long long)arg1 ;
-(id)encryptionKeyForFileWithID:(id)arg1 backupUDID:(id)arg2 ;
-(void)setFileEncryptionKey:(id)arg1 forInodeNumber:(unsigned long long)arg2 ;
-(void)removeFileEncryptionKeyForInodeNumber:(unsigned long long)arg1 ;
-(void)addFileMissingEncryptionKeyWithPath:(id)arg1 ;
-(void)addFileChange:(id)arg1 ;
-(id)deletedFileIDEnumeratorForBackupUDID:(id)arg1 ;
-(void)addBackup:(id)arg1 lastModified:(long long)arg2 ;
-(void)addSnapshot:(id)arg1 backupUDID:(id)arg2 ;
-(id)fileChangeEnumerator;
-(void)setStale:(BOOL)arg1 forSnapshotID:(unsigned long long)arg2 backupUDID:(id)arg3 ;
-(void)addFile:(id)arg1 snapshotID:(unsigned long long)arg2 backupUDID:(id)arg3 committed:(BOOL)arg4 ;
-(void)setLastModified:(long long)arg1 forSnapshotID:(unsigned long long)arg2 backupUDID:(id)arg3 ;
-(void)setCommitted:(BOOL)arg1 forFileID:(id)arg2 snapshotID:(unsigned long long)arg3 backupUDID:(id)arg4 ;
-(void)setResult:(int)arg1 forFileChangeID:(id)arg2 ;
-(id)fileChangeIDsWithResult:(int)arg1 offset:(unsigned long long)arg2 limit:(unsigned long long)arg3 ;
-(void)removeFileID:(id)arg1 forSnapshotID:(unsigned long long)arg2 backupUDID:(id)arg3 ;
-(void)setCommitted:(long long)arg1 forSnapshotID:(unsigned long long)arg2 backupUDID:(id)arg3 ;
-(void)setLocalCommitted:(long long)arg1 snapshotID:(unsigned long long)arg2 backupUDID:(id)arg3 ;
-(void)updateFileChangesAfterCommittingSnapshot;
-(void)removeAllFileEncryptionKeys;
-(void)_remove;
-(void)_raise:(id)arg1 ;
-(void)_profile:(id)arg1 time:(double)arg2 ;
-(void)_exec:(id)arg1 ;
-(void)_finalizeAll;
-(void)_logProfile;
-(id)_prepare:(id)arg1 ;
-(void)removeAllBackups;
-(void)removeAllDisabledDomains;
-(void)removeAllRestores;
-(id)snapshotsForBackupUDID:(id)arg1 ;
-(id)_snapshotWithStmt:(id)arg1 ;
-(void)_removeSnapshotForID:(unsigned long long)arg1 backupUDID:(id)arg2 ;
-(long long)localCommittedForSnapshotID:(unsigned long long)arg1 backupUDID:(id)arg2 ;
-(id)_fileWithStmt:(id)arg1 ;
-(long long)_lastInsertRowID;
-(id)_fileIDEnumeratorWithStmt:(id)arg1 ;
-(id)_disabledDomainNames;
-(id)_lastRefreshPropertyKeyForBackupUDID:(id)arg1 ;
-(BOOL)isRefreshNeededForBackupUDID:(id)arg1 ;
-(BOOL)isStaleSnapshotID:(unsigned long long)arg1 backupUDID:(id)arg2 ;
-(BOOL)_rebuildSnapshot:(id)arg1 backupUDID:(id)arg2 service:(id)arg3 error:(id*)arg4 ;
-(void)setDomainManager:(MBDomainManager *)arg1 ;
-(id)_restoreFileWithStmt:(id)arg1 ;
-(id)_restoreFilesWithStmt:(id)arg1 ;
-(BOOL)encryptedFilesExistForBackupUDID:(id)arg1 ;
-(BOOL)encryptedFilesExistForBackupUDID:(id)arg1 keybagID:(long long)arg2 ;
-(id)encryptedFileIDEnumeratorForBackupUDID:(id)arg1 ;
-(id)activeDomainNamesForBackupUDID:(id)arg1 ;
-(id)dateOfLastRefreshForBackupUDID:(id)arg1 ;
-(id)_fileChangeFromStmt:(id)arg1 ;
-(id)pathsForFilesMissingEncryptionKeyWithOffset:(unsigned long long)arg1 limit:(unsigned long long)arg2 ;
-(void)removeFileMissingEncryptionKeyWithPath:(id)arg1 ;
-(unsigned long long)restoreIDForMode:(id)arg1 ;
-(id)restoreModeForBackgroundAppWithRestoreID:(unsigned long long)arg1 ;
-(void)setRestoreID:(unsigned long long)arg1 forType:(int)arg2 value:(id)arg3 ;
-(id)restoreBackupUDID;
-(void)setRestoreBackupUDID:(id)arg1 ;
-(long long)restoreSnapshotID;
-(void)setRestoreSnapshotID:(long long)arg1 ;
-(long long)restoreBackupLastModified;
-(void)setRestoreBackupLastModified:(long long)arg1 ;
-(BOOL)containsRestoreFilesForRestoreID:(unsigned long long)arg1 ;
-(BOOL)containsRestoreFilesWithState:(int)arg1 forRestoreID:(unsigned long long)arg2 ;
-(BOOL)containsFailedRestoreFilesForRestoreID:(unsigned long long)arg1 ;
-(void)restoreFilesCount:(unsigned long long*)arg1 size:(unsigned long long*)arg2 forRestoreID:(unsigned long long)arg3 backupUDID:(id)arg4 ;
-(id)restoreFilesForBackupUDID:(id)arg1 offset:(unsigned long long)arg2 limit:(unsigned long long)arg3 ;
-(id)restoreFilesForSnapshotID:(unsigned long long)arg1 backupUDID:(id)arg2 restoreID:(unsigned long long)arg3 pendingOnly:(BOOL)arg4 offset:(unsigned long long)arg5 limit:(unsigned long long)arg6 ;
-(id)restoreFileForFileID:(id)arg1 ;
-(id)restoreFileForItemID:(unsigned long long)arg1 ;
-(void)addRestoreFile:(id)arg1 ;
-(void)setRestoreID:(unsigned long long)arg1 forRestoreFile:(id)arg2 ;
-(void)setRestoreID:(unsigned long long)arg1 forDomainName:(id)arg2 relativePath:(id)arg3 backupUDID:(id)arg4 ;
-(void)setState:(int)arg1 forFileID:(id)arg2 restoreID:(unsigned long long)arg3 ;
-(void)setState:(int)arg1 forRestoreID:(unsigned long long)arg2 ;
-(id)protectionClassesToRestoreByPathWithOffset:(unsigned long long)arg1 limit:(unsigned long long)arg2 ;
-(void)setProtectionClass:(int)arg1 toRestoreForDomainName:(id)arg2 relativePath:(id)arg3 ;
-(void)removeAllProtectionClassesToRetore;
-(void)addRestoreFailure:(id)arg1 ;
-(void)setKeyBagInfo:(id)arg1 forBackupUDID:(id)arg2 ;
-(void)addKeyBagInfo:(id)arg1 forBackupUDID:(id)arg2 ;
-(void)removePropertyForKey:(id)arg1 ;
-(void)analyze;
-(void)dealloc;
-(void)begin;
-(void)setConfiguration:(id)arg1 ;
-(void)end;
-(void)close;
-(id)initWithPath:(id)arg1 ;
-(id)configuration;
-(void)open;
-(id)creationDate;
-(id)propertyForKey:(id)arg1 ;
-(void)setProperty:(id)arg1 forKey:(id)arg2 ;
-(BOOL)isDomainNameEnabled:(id)arg1 ;
-(id)relativePathsOfPlaceholderResourcesWithBundleID:(id)arg1 lastModified:(long long)arg2 ;
-(void)setPlaceholderResourceRelativePaths:(id)arg1 lastModfied:(long long)arg2 forBundleID:(id)arg3 ;
-(unsigned long long)countOfRestoreFailuresForDataclass:(id)arg1 assetType:(id)arg2 ;
-(void)repair;
-(MBDomainManager *)domainManager;
-(void)rollback;
-(void)vacuum;
@end

